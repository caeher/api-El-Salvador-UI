import{d as B,b as k,o as y,c as b,r as q,G as H,u as f,_ as K,x as G,H as J,l as Z,s as Q,y as j,I as W,z as P,h,w as d,J as r,e as N,g as X,f as M,a as i,i as D,t as V,F as Y,v as ee,q as te}from"./entry.cb161ccd.js";import{_ as oe}from"./Prose.89e08819.js";import{u as U,e as ne,_ as ae}from"./el-salvador-code.5a3ac615.js";import{_ as se,u as R,a as re}from"./NarrowContent.c0ea6549.js";const ie=B({__name:"Badge",props:{type:{type:String,required:!1,default:"main"},icon:{type:String,required:!1,default:null}},setup(e){const t=e,a=k(()=>t.type);return k(()=>!!t.icon),(s,n)=>(y(),b("span",{class:H(["badge",[f(a)]])},[q(s.$slots,"default",{},void 0,!0)],2))}});const pe=K(ie,[["__scopeId","data-v-6f25b650"]]),ue=/\d/,le=["-","_","/","."];function ce(e=""){if(!ue.test(e))return e.toUpperCase()===e}function _e(e,t){const a=t!=null?t:le,s=[];if(!e||typeof e!="string")return s;let n="",l,g;for(const c of e){const C=a.includes(c);if(C===!0){s.push(n),n="",l=void 0;continue}const p=ce(c);if(g===!1){if(l===!1&&p===!0){s.push(n),n=c,l=p;continue}if(l===!0&&p===!1&&n.length>1){const w=n[n.length-1];s.push(n.slice(0,Math.max(0,n.length-1))),n=w+c,l=p;continue}}n+=c,l=p,g=C}return s.push(n),s}function me(e){return e?e[0].toUpperCase()+e.slice(1):""}function de(e){return e?(Array.isArray(e)?e:_e(e)).map(t=>me(t)).join(""):""}const fe=e=>(e=e.split(" ").join("-"),de(e)),ve=(e,t)=>{const a=e[t];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((s,n)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})},he={class:"grid items-start grid-flow-dense grid-rows-1 grid-cols-1 lg:grid-cols-12 mt-24 gap-3"},ye=i("div",{class:"lg:col-span-3"},null,-1),ge={class:"lg:col-span-6"},Se={class:"px-3"},Ee={class:"lg:col-span-3 sticky top-20"},Ve={class:""},Ce={class:"bg-white dark:bg-slate-900 drop-shadow rounded-lg p-3"},Ae={class:"text-4xl font-bold text-center pb-3"},be=i("hr",null,null,-1),xe=i("p",{class:"pt-3"},"Otros departamentos en esta zona",-1),Le={role:"list",class:"divide-y divide-gray-200"},ke=B({__name:"index",async setup(e){var I;let t,a;const{params:{departament:s}}=G(),n=J(),l=Z(!1);let g;const{public:{fetchUri:c}}=Q();if(s)g=W(()=>ve(Object.assign({"../../components/map/SV/Ahuachapan.vue":()=>r(()=>import("./Ahuachapan.3009254c.js"),["./Ahuachapan.3009254c.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Cabanas.vue":()=>r(()=>import("./Cabanas.d12d301f.js"),["./Cabanas.d12d301f.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Chalatenango.vue":()=>r(()=>import("./Chalatenango.8dccc767.js"),["./Chalatenango.8dccc767.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Cuscatlan.vue":()=>r(()=>import("./Cuscatlan.7ed60115.js"),["./Cuscatlan.7ed60115.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/LaLibertad.vue":()=>r(()=>import("./LaLibertad.82292b3d.js"),["./LaLibertad.82292b3d.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/LaPaz.vue":()=>r(()=>import("./LaPaz.6f83bbfe.js"),["./LaPaz.6f83bbfe.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/LaUnion.vue":()=>r(()=>import("./LaUnion.0ea653d0.js"),["./LaUnion.0ea653d0.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Morazan.vue":()=>r(()=>import("./Morazan.4302fe55.js"),["./Morazan.4302fe55.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/SanMiguel.vue":()=>r(()=>import("./SanMiguel.ed05efc7.js"),["./SanMiguel.ed05efc7.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/SanSalvador.vue":()=>r(()=>import("./SanSalvador.f3711997.js"),["./SanSalvador.f3711997.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/SanVicente.vue":()=>r(()=>import("./SanVicente.5667a1ec.js"),["./SanVicente.5667a1ec.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/SantaAna.vue":()=>r(()=>import("./SantaAna.acd7579f.js"),["./SantaAna.acd7579f.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Sonsonate.vue":()=>r(()=>import("./Sonsonate.0e640061.js"),["./Sonsonate.0e640061.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url),"../../components/map/SV/Usulutan.vue":()=>r(()=>import("./Usulutan.bcf9ef88.js"),["./Usulutan.bcf9ef88.js","./entry.cb161ccd.js","./entry.d36f0ff7.css"],import.meta.url)}),`../../components/map/SV/${fe(s.toString())}.vue`)),l.value=!0;else throw j({statusCode:404,message:"Not found",fatal:!0});function C(o){if(o){const u=Object.values(ne).filter(_=>_.municipalities[o]!==void 0);if(u.length==1){const _=u[0].municipalities[o];if(U(_)){const m=u[0].name.toLowerCase().split(" ").join("-");n.push({path:`/${m}/${_.toLowerCase().split(" ").join("-")}`})}}}}const{data:p,refresh:w,pending:Pe}=([t,a]=P(()=>R("departaments",async()=>{if(U(s.toString()))return $fetch(`${c}/departaments/${s.toString().split("-").join(" ")}`)})),t=await t,a(),t);if(p.value==null)throw j({statusCode:404,message:"Not found",fatal:!0});const{data:T,error:De,pending:Re}=([t,a]=P(()=>R("zone",async()=>{var o;return $fetch(`${c}/zones/${(o=p.value)==null?void 0:o.zone.zonename}`)})),t=await t,a(),t),{data:x,error:we,pending:Te}=([t,a]=P(()=>R("scrapper",async()=>{let o=s.toString().trim();return o.includes("-")&&(o=o.split("-").join("_")),o.includes(" ")&&(o=o.split(" ").join("_")),$fetch(`${c}/scraper/${o}`)})),t=await t,a(),t),S={header:[],body:[]};if(p.value){S.header.push("Municipio","ZIP Code");const o=Object.keys(x.value);S.body.push(...(I=p.value)==null?void 0:I.muns.map(A=>{let u="",_=A.munname.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");for(let m=0;m<o.length;m++){u="";let E=!1;if(o[m].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(" ").forEach(L=>{_.includes(L)?E=!0:E=!1}),E){u=o[m];break}}return{munname:A.munname,zip_code:u!=""?x.value[u]:""}}))}return(o,A)=>{const u=oe,_=ae,m=re,E=pe,z=te,L=se;return y(),b("div",null,[h(L,null,{default:d(()=>{var O,$;return[h(u,{class:"mx-auto"},{default:d(()=>[f(l)?(y(),N(X(f(g)),{key:0,class:"w-full",onMaps:C},null,32)):M("",!0)]),_:1}),i("div",he,[ye,i("div",ge,[h(m,null,{title:d(()=>{var v;return[D(V((v=f(p))==null?void 0:v.depname),1)]}),body:d(()=>[h(u,{class:"mx-auto"},{default:d(()=>[i("p",null,V(f(x).Summary),1)]),_:1}),i("div",Se,[S.header.length>0?(y(),N(_,{key:0,header:S.header,body:S.body},null,8,["header","body"])):M("",!0)])]),_:1})]),i("div",Ee,[i("div",Ve,[i("div",Ce,[i("h2",Ae,V((O=f(T))==null?void 0:O.zonename),1),be,xe,i("ul",Le,[(y(!0),b(Y,null,ee(($=f(T))==null?void 0:$.departaments,(v,F)=>(y(),b("li",{key:`zone-${F}`},[h(z,{class:"px-4 py-4 sm:px-0 flex justify-between",href:`${v.depname.toLowerCase().split(" ").join("-").normalize("NFD").replace(/[\u0300-\u036f]/g,"")}`},{default:d(()=>[D(V(v.depname)+" ",1),h(E,null,{default:d(()=>[D(V(v.muns.length),1)]),_:2},1024)]),_:2},1032,["href"])]))),128))])])])])])]}),_:1})])}}});export{ke as default};
